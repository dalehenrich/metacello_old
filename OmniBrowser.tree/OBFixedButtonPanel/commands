
!OBFixedButtonPanel methodsFor: 'callbacks' stamp: 'lr 6/4/2010 14:53'!
commands
	| commands buttons grouped groups |
	self currentOrRootNode ifNil: [ ^ #() ].
	commands := (self announce: OBNodeCommandScan) 
		commandsOn: self currentNode
		for: self.
	buttons := commands select: [ :ea | ea wantsButton ].
	groups := (buttons collect: [ :ea | ea group ]) asSet asSortedCollection: [ :a :b | a > b ].
	grouped := groups collect: 
		[ :ea | 
		(buttons select: [ :b | b group = ea ]) asSortedCollection: [ :a :b | a order <= b order ] ].
	^ grouped gather: [ :ea | ea ]! !
